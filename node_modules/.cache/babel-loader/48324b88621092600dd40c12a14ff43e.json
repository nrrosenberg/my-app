{"ast":null,"code":"async function getPosts(token) {\n  const response = await fetch('http://localhost:3000/api/posts', {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  let {\n    data,\n    links\n  } = await response.json();\n  data = Object.values(data);\n  await data.map(async (post, i) => {\n    post.attributes['freelancerUsername'] = await getFreelancerName(token, Object.values(post.attributes)[1]);\n  });\n  return {\n    data,\n    links\n  };\n}\n\nasync function getTopPosts(token) {\n  const response = await fetch('http://arcane-cove-93049.herokuapp.com/api/posts/top', {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  let {\n    data,\n    links\n  } = await response.json();\n  data = await Object.values(data);\n  await data.map(async (post, i) => {\n    post.attributes['freelancerUsername'] = await getFreelancerName(token, Object.values(post.attributes)[1]);\n  });\n  return {\n    data,\n    links\n  };\n}\n\nasync function getComments(token, postId) {\n  const response = await fetch(`http://arcane-cove-93049.herokuapp.com/api/posts/comments/${postId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return response.json();\n}\n\nasync function getFreelancerName(token, freelancerId) {\n  let response = await fetch(`http://arcane-cove-93049.herokuapp.com/api/freelancers/show/${freelancerId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  let {\n    data\n  } = await response.json().then();\n  const username = Object.values(data.attributes)[3];\n  return username;\n}\n\nexport { getPosts, getTopPosts, getComments, getFreelancerName };","map":{"version":3,"sources":["/Users/nicorosenberg/Desktop/my-app/src/services/posts.js"],"names":["getPosts","token","response","fetch","headers","Authorization","data","links","json","Object","values","map","post","i","attributes","getFreelancerName","getTopPosts","getComments","postId","freelancerId","then","username"],"mappings":"AACA,eAAeA,QAAf,CAAwBC,KAAxB,EAA+B;AAC3B,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAD,EAAmC;AAC/DC,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASJ,KAAM;AAAhC;AADsD,GAAnC,CAA5B;AAGA,MAAI;AAACK,IAAAA,IAAD;AAAOC,IAAAA;AAAP,MAAgB,MAAML,QAAQ,CAACM,IAAT,EAA1B;AACAF,EAAAA,IAAI,GAAGG,MAAM,CAACC,MAAP,CAAcJ,IAAd,CAAP;AACA,QAAMA,IAAI,CAACK,GAAL,CAAS,OAAOC,IAAP,EAAaC,CAAb,KAAiB;AAC5BD,IAAAA,IAAI,CAACE,UAAL,CAAgB,oBAAhB,IAAwC,MAAMC,iBAAiB,CAACd,KAAD,EAAQQ,MAAM,CAACC,MAAP,CAAcE,IAAI,CAACE,UAAnB,EAA+B,CAA/B,CAAR,CAA/D;AACH,GAFK,CAAN;AAGA,SAAO;AAACR,IAAAA,IAAD;AAAOC,IAAAA;AAAP,GAAP;AACH;;AAED,eAAeS,WAAf,CAA2Bf,KAA3B,EAAkC;AAC9B,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,sDAAD,EAAwD;AACpFC,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASJ,KAAM;AAAhC;AAD2E,GAAxD,CAA5B;AAGA,MAAI;AAACK,IAAAA,IAAD;AAAOC,IAAAA;AAAP,MAAgB,MAAML,QAAQ,CAACM,IAAT,EAA1B;AACAF,EAAAA,IAAI,GAAG,MAAMG,MAAM,CAACC,MAAP,CAAcJ,IAAd,CAAb;AACA,QAAMA,IAAI,CAACK,GAAL,CAAS,OAAOC,IAAP,EAAaC,CAAb,KAAiB;AAC5BD,IAAAA,IAAI,CAACE,UAAL,CAAgB,oBAAhB,IAAwC,MAAMC,iBAAiB,CAACd,KAAD,EAAQQ,MAAM,CAACC,MAAP,CAAcE,IAAI,CAACE,UAAnB,EAA+B,CAA/B,CAAR,CAA/D;AAEH,GAHK,CAAN;AAKA,SAAO;AAACR,IAAAA,IAAD;AAAOC,IAAAA;AAAP,GAAP;AACH;;AAED,eAAeU,WAAf,CAA2BhB,KAA3B,EAAkCiB,MAAlC,EAA0C;AACtC,QAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAAE,6DAA4De,MAAO,EAArE,EAAuE;AACnGd,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASJ,KAAM;AAAhC;AAD0F,GAAvE,CAA5B;AAGA,SAAOC,QAAQ,CAACM,IAAT,EAAP;AACH;;AAED,eAAeO,iBAAf,CAAiCd,KAAjC,EAAwCkB,YAAxC,EAAsD;AAClD,MAAIjB,QAAQ,GAAG,MAAMC,KAAK,CAAE,+DAA8DgB,YAAa,EAA7E,EAA+E;AACzGf,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASJ,KAAM;AAAhC;AADgG,GAA/E,CAA1B;AAGA,MAAI;AAACK,IAAAA;AAAD,MAAS,MAAMJ,QAAQ,CAACM,IAAT,GAAgBY,IAAhB,EAAnB;AACA,QAAMC,QAAQ,GAAGZ,MAAM,CAACC,MAAP,CAAcJ,IAAI,CAACQ,UAAnB,EAA+B,CAA/B,CAAjB;AACA,SAAOO,QAAP;AAEH;;AAED,SAAQrB,QAAR,EAAkBgB,WAAlB,EAA+BC,WAA/B,EAA4CF,iBAA5C","sourcesContent":["\nasync function getPosts(token) {\n    const response = await fetch('http://localhost:3000/api/posts',{\n    headers: {Authorization: `Bearer ${token}`} \n    });\n    let {data, links} = await response.json()\n    data = Object.values(data);\n    await data.map(async (post, i)=>{\n        post.attributes['freelancerUsername'] = await getFreelancerName(token ,Object.values(post.attributes)[1])\n    });\n    return {data, links}    \n}\n\nasync function getTopPosts(token) {\n    const response = await fetch('http://arcane-cove-93049.herokuapp.com/api/posts/top',{\n    headers: {Authorization: `Bearer ${token}`} \n    });\n    let {data, links} = await response.json()\n    data = await Object.values(data);\n    await data.map(async (post, i)=>{\n        post.attributes['freelancerUsername'] = await getFreelancerName(token ,Object.values(post.attributes)[1])\n        \n    });\n\n    return {data, links}\n}\n\nasync function getComments(token, postId) {\n    const response = await fetch(`http://arcane-cove-93049.herokuapp.com/api/posts/comments/${postId}`,{\n    headers: {Authorization: `Bearer ${token}`} \n    });\n    return response.json();\n}\n\nasync function getFreelancerName(token, freelancerId) {\n    let response = await fetch(`http://arcane-cove-93049.herokuapp.com/api/freelancers/show/${freelancerId}`,{\n    headers: {Authorization: `Bearer ${token}`} \n    });\n    let {data} = await response.json().then();\n    const username = Object.values(data.attributes)[3]\n    return username\n\n}\n\nexport {getPosts, getTopPosts, getComments, getFreelancerName};"]},"metadata":{},"sourceType":"module"}