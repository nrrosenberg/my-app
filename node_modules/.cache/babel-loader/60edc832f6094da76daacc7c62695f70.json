{"ast":null,"code":"'use strict';\n\nvar isFunction = require('lodash/isFunction');\n\nvar DeserializerUtils = require('./deserializer-utils');\n\nmodule.exports = function (opts) {\n  if (!opts) {\n    opts = {};\n  }\n\n  this.deserialize = function (jsonapi, callback) {\n    function collection() {\n      return Promise.all(jsonapi.data.map(function (d) {\n        return new DeserializerUtils(jsonapi, d, opts).perform();\n      })).then(function (result) {\n        if (isFunction(callback)) {\n          callback(null, result);\n        }\n\n        return result;\n      });\n    }\n\n    function resource() {\n      return new DeserializerUtils(jsonapi, jsonapi.data, opts).perform().then(function (result) {\n        if (isFunction(callback)) {\n          callback(null, result);\n        }\n\n        return result;\n      });\n    }\n\n    if (Array.isArray(jsonapi.data)) {\n      return collection();\n    } else {\n      return resource();\n    }\n  };\n};","map":{"version":3,"sources":["/Users/nicorosenberg/Desktop/grupo-belicooo/my-app/node_modules/jsonapi-serializer/lib/deserializer.js"],"names":["isFunction","require","DeserializerUtils","module","exports","opts","deserialize","jsonapi","callback","collection","Promise","all","data","map","d","perform","then","result","resource","Array","isArray"],"mappings":"AAAA;;AACA,IAAIA,UAAU,GAAGC,OAAO,CAAC,mBAAD,CAAxB;;AACA,IAAIC,iBAAiB,GAAGD,OAAO,CAAC,sBAAD,CAA/B;;AAEAE,MAAM,CAACC,OAAP,GAAiB,UAAUC,IAAV,EAAgB;AAC/B,MAAI,CAACA,IAAL,EAAW;AAAEA,IAAAA,IAAI,GAAG,EAAP;AAAY;;AAEzB,OAAKC,WAAL,GAAmB,UAAUC,OAAV,EAAmBC,QAAnB,EAA6B;AAC9C,aAASC,UAAT,GAAsB;AACpB,aAAOC,OAAO,CACXC,GADI,CACAJ,OAAO,CAACK,IAAR,CAAaC,GAAb,CAAiB,UAAUC,CAAV,EAAa;AACjC,eAAO,IAAIZ,iBAAJ,CAAsBK,OAAtB,EAA+BO,CAA/B,EAAkCT,IAAlC,EAAwCU,OAAxC,EAAP;AACD,OAFI,CADA,EAIJC,IAJI,CAIC,UAAUC,MAAV,EAAkB;AACtB,YAAIjB,UAAU,CAACQ,QAAD,CAAd,EAA0B;AACxBA,UAAAA,QAAQ,CAAC,IAAD,EAAOS,MAAP,CAAR;AACD;;AAED,eAAOA,MAAP;AACD,OAVI,CAAP;AAWD;;AAED,aAASC,QAAT,GAAoB;AAClB,aAAO,IAAIhB,iBAAJ,CAAsBK,OAAtB,EAA+BA,OAAO,CAACK,IAAvC,EAA6CP,IAA7C,EACJU,OADI,GAEJC,IAFI,CAEC,UAAUC,MAAV,EAAkB;AACtB,YAAIjB,UAAU,CAACQ,QAAD,CAAd,EAA0B;AACxBA,UAAAA,QAAQ,CAAC,IAAD,EAAOS,MAAP,CAAR;AACD;;AAED,eAAOA,MAAP;AACD,OARI,CAAP;AASD;;AAED,QAAIE,KAAK,CAACC,OAAN,CAAcb,OAAO,CAACK,IAAtB,CAAJ,EAAiC;AAC/B,aAAOH,UAAU,EAAjB;AACD,KAFD,MAEO;AACL,aAAOS,QAAQ,EAAf;AACD;AACF,GAhCD;AAiCD,CApCD","sourcesContent":["'use strict';\nvar isFunction = require('lodash/isFunction');\nvar DeserializerUtils = require('./deserializer-utils');\n\nmodule.exports = function (opts) {\n  if (!opts) { opts = {}; }\n\n  this.deserialize = function (jsonapi, callback) {\n    function collection() {\n      return Promise\n        .all(jsonapi.data.map(function (d) {\n          return new DeserializerUtils(jsonapi, d, opts).perform();\n        }))\n        .then(function (result) {\n          if (isFunction(callback)) {\n            callback(null, result);\n          }\n\n          return result\n        });\n    }\n\n    function resource() {\n      return new DeserializerUtils(jsonapi, jsonapi.data, opts)\n        .perform()\n        .then(function (result) {\n          if (isFunction(callback)) {\n            callback(null, result);\n          }\n\n          return result\n        });\n    }\n\n    if (Array.isArray(jsonapi.data)) {\n      return collection();\n    } else {\n      return resource();\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"script"}